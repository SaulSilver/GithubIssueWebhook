<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Github Issues from Repo</title>
</head>
<body>
<h1>Real-Time GitHub Issues</h1>
<!-- Issues part -->
{{{body}}}

<!-- Notifications part -->
<div id="notification_div">
    <h3>Notifications</h3>
    <ul>

    </ul>
</div>

<script src='/socket.io/socket.io.js'></script>
<script>
    let socket = io.connect();

    socket.on('issue webhook', function (data) {
        console.log('issue');
        //TODO: make the html for the data received, update the existing issues html
        let jsonObj = data;
        console.log(jsonObj);
    });

    socket.on('comment webhook', function (data) {
        console.log('notification');
        //TODO: make the html for the data received, update the existing issues html
        let jsonObj = data;

        console.log(jsonObj);
    });
</script>

</body>
</html>